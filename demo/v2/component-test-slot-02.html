<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Title</title>
    </head>
    <body>
        <div id="test">
            <app :list="list"></app>
        </div>
    </body>
    <script type="module">
        import { createComponent, createApp } from '../../dist/scent.template.esm.js';
        import { VueReactiveAdaptor } from '../VueReactiveAdaptor.js';
        import {
            computed,
            ref,
            reactive
        } from 'https://cdn.jsdelivr.net/npm/@vue/reactivity@3.2.31/dist/reactivity.esm-browser.js';

        const cList = createComponent({
            template: `<div>abc</div>`,
            data(props, element) {
                const a = ref(1);
                return {
                    a,
                    addA() {
                        a.value++;
                    }
                };
            }
        });

        const app = createComponent({
            template: `
                        <button @click="addListA">Add A</button>
                        <c-list ref="list">
                            nameasdasd
                            <!--<li s-for:item="$props.list" slot="999">{item}</li>-->
                        </c-list>`,
            data(props, instance){
                return {
                    addListA(){
                        const list = instance.getRef('list');
                        list.addA();
                    }
                }
            }
        })

        window.app = createApp({
            components: { app, cList },
            mount: '#test',
            data: () => {
                const value = ref('test');
                const list = (window.list = reactive([1, 2, 3]));
                return {
                    value,
                    value2: computed(() => {
                        return value.value + '2';
                    }),
                    list
                };
            },
            adaptor: new VueReactiveAdaptor()
        });
    </script>
</html>
